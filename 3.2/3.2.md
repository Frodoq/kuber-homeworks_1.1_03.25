# Домашнее задание к занятию «Установка Kubernetes»

### Цель задания

Установить кластер K8s.

-----

### Задание 1. Установить кластер k8s с 1 master node

1. Подготовка работы кластера из 5 нод: 1 мастер и 4 рабочие ноды.
2. В качестве CRI — containerd.
3. Запуск etcd производить на мастере.
4. Способ установки выбрать самостоятельно.

### Решение

## Кластер Kubernetes был установлен с использованием kubeadm. В качестве CRI используется containerd. ETCD запущен на мастере.

## Конфигурация кластера
- **Количество нод**: 5 (1 master, 4 worker)
- **Версия Kubernetes**: v1.28.15
- **Container Runtime**: containerd
- **Сетевой плагин**: Calico

## Ноды кластера
- Master: sokolkov-k8s (10.0.1.15)
- Worker1: worker1 (10.0.1.27)
- Worker2: worker2 (10.0.1.9)
- Worker3: worker3 (10.0.1.24)
- Worker4: worker4 (10.0.1.3)

## Выполненные шаги

### 1. Подготовка мастер-ноды
- Установка kubeadm, kubelet, kubectl
- Инициализация кластера с помощью kubeadm

### 2. Подготовка рабочих нод
- Установка kubeadm, kubelet, kubectl на всех рабочих нодах
- Установка и настройка containerd
- Настройка сетевых параметров (ip_forward, bridge-nf-call-iptables)

### 3. Присоединение рабочих нод к кластеру
- Получение токена для присоединения на мастере
- Выполнение команды join на рабочих нодах

### 4. Установка сетевого плагина Calico
- Применение манифеста Calico для обеспечения сетевого взаимодействия

## Результаты
<img width="2076" height="1066" alt="image" src="https://github.com/user-attachments/assets/b9c97b44-d8f6-4d7b-8ed5-c9f03880a4b6" />
<img width="3296" height="918" alt="image" src="https://github.com/user-attachments/assets/3a498852-9bdf-479c-b3d0-973a5e3738e8" />


### Правила приёма работы

1. Домашняя работа оформляется в своем Git-репозитории в файле README.md. Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.
2. Файл README.md должен содержать скриншоты вывода необходимых команд `kubectl get nodes`, а также скриншоты результатов.
3. Репозиторий должен содержать тексты манифестов или ссылки на них в файле README.md.

